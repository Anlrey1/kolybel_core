{
  "schema_version": "1.0",
  "template_id": "data_analyst_agent_v1",
  "title": "Data Analyst Workflow ‚Äî –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è",
  "description": "–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—É—á–µ–Ω–∏—è –∏ –∏–Ω—Ç—É–∏—Ü–∏–∏",
  "tags": ["n8n Workflow", "Automation", "Agents", "LinkedIn", "Notion", "analytics"],
  "type": "agent_template",
  "language": "ru",
  "author": "Sy Rom",
  "source": "medium",
  "url": "https://medium.com/@syrom_85473/a-practical-n8n-workflow-example-from-a-to-z-part-1-use-case-learning-journey-and-setup-1f4efcfb81b1", 
  "metadata": {
    "allow_training": true,
    "engagement_weight": 0.75,
    "use_intuition": true,
    "training_source": "prompt_templates/__concept_SyRom.json"
  },

  "default_post": {
    "post_id": "default_analytics_post",
    "content": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π {dataset} —Å –ø–æ–º–æ—â—å—é Python. –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –Ω–∞ {key_metric}. –î–æ–±–∞–≤—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∏ –≤—ã–≤–æ–¥—ã.",
    "tags": ["#data", "#analysis", "#python", "#visualization"],
    "schedule_time": "daily",
    "engagement_plan": {
      "primary_action": "reaction",
      "cta_text": "–ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ –±—ã–ª —Å–∞–º—ã–º –ø–æ–ª–µ–∑–Ω—ã–º? üëá"
    },
    "language": "ru"
  },

  "nodes": [
    {
      "id": "toolAgent_0",
      "position": {
        "x": 1481.94,
        "y": 146.54
      },
      "type": "customNode",
      "data": {
        "label": "Tool Agent",
        "version": 2,
        "name": "toolAgent",
        "type": "AgentExecutor",
        "category": "Agents",
        "description": "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏",
        "inputParams": [
          {
            "label": "System Message",
            "name": "systemMessage",
            "type": "string",
            "default": "–í—ã ‚Äì —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äì –ø–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ.",
            "rows": 4,
            "optional": true
          },
          {
            "label": "Max Iterations",
            "name": "maxIterations",
            "type": "number",
            "optional": true
          }
        ],
        "inputAnchors": [
          {
            "label": "Tools",
            "name": "tools",
            "type": "Tool",
            "list": true
          },
          {
            "label": "Memory",
            "name": "memory",
            "type": "BaseChatMemory"
          },
          {
            "label": "Model",
            "name": "model",
            "type": "BaseChatModel"
          },
          {
            "label": "Prompt Template",
            "name": "chatPromptTemplate",
            "type": "ChatPromptTemplate",
            "optional": true
          },
          {
            "label": "Input Moderation",
            "name": "inputModeration",
            "type": "Moderation",
            "optional": true
          }
        ],
        "inputs": {
          "tools": [
            "{{codeInterpreterE2B_0.data.instance}}",
            "{{retrieverTool_0.data.instance}}",
            "{{customTool_0.data.instance}}"
          ],
          "memory": "{{bufferMemory_0.data.instance}}",
          "model": "{{chatAnthropic_0.data.instance}}",
          "systemMessage": "**–ü—Ä–∏–≤–µ—Ç! –Ø —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ. –í–æ—Ç —á—Ç–æ —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å:**\n\n1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ:\n   - –†—ã–Ω–∫–µ: –∏–Ω–¥–µ–∫—Å—ã, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã\n   - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–µ–Ω–¥—ã (Google Trends)\n   - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏–∑ Airtable/Notion\n2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n3. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏\n4. –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—à–ª–æ–≥–æ –æ–ø—ã—Ç–∞\n\n‚ö†Ô∏è –ù–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É, –µ—Å–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é."
        },
        "outputAnchors": [
          {
            "label": "Agent Output",
            "type": "AgentExecutor | BaseChain | Runnable"
          }
        ]
      }
    },
    {
      "id": "chatAnthropic_0",
      "position": {
        "x": 378.53,
        "y": 143.58
      },
      "type": "customNode",
      "data": {
        "label": "ChatAnthropic",
        "version": 6,
        "name": "chatAnthropic",
        "type": "ChatAnthropic",
        "category": "Chat Models",
        "description": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π Claude —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º",
        "inputParams": [
          {
            "label": "–ú–æ–¥–µ–ª—å",
            "name": "modelName",
            "type": "asyncOptions",
            "loadMethod": "listModels",
            "default": "claude-3-5-sonnet-latest"
          },
          {
            "label": "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
            "name": "temperature",
            "type": "number",
            "step": 0.1,
            "default": 0.1
          },
          {
            "label": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã",
            "name": "maxTokensToSample",
            "type": "number"
          },
          {
            "label": "Top P",
            "name": "topP",
            "type": "number",
            "step": 0.1
          },
          {
            "label": "Top K",
            "name": "topK",
            "type": "number"
          },
          {
            "label": "–†–∞–∑—Ä–µ—à–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
            "name": "allowImageUploads",
            "type": "boolean",
            "default": false
          }
        ],
        "inputAnchors": [
          {
            "label": "–ö—ç—à",
            "name": "cache",
            "type": "BaseCache"
          }
        ],
        "inputs": {
          "modelName": "claude-3-5-sonnet-latest",
          "temperature": "0.1",
          "allowImageUploads": ""
        }
      }
    },
    {
      "id": "bufferMemory_0",
      "position": {
        "x": 28.02,
        "y": 152.17
      },
      "type": "customNode",
      "data": {
        "label": "Buffer Memory",
        "version": 2,
        "name": "bufferMemory",
        "type": "BufferMemory",
        "category": "Memory",
        "description": "–ü–∞–º—è—Ç—å —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤ –æ–±—É—á–µ–Ω–∏–∏",
        "inputParams": [
          {
            "label": "Session ID",
            "name": "sessionId",
            "type": "string",
            "description": "–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π ID"
          },
          {
            "label": "–ö–ª—é—á –ø–∞–º—è—Ç–∏",
            "name": "memoryKey",
            "type": "string",
            "default": "chat_history"
          }
        ],
        "inputs": {
          "memoryKey": "chat_history"
        }
      }
    },
    {
      "id": "codeInterpreterE2B_0",
      "position": {
        "x": 720.11,
        "y": 156.58
      },
      "type": "customNode",
      "data": {
        "label": "Code Interpreter E2B",
        "version": 1,
        "name": "codeInterpreterE2B",
        "type": "CodeInterpreter",
        "category": "Tools",
        "description": "–í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö",
        "inputParams": [
          {
            "label": "–ù–∞–∑–≤–∞–Ω–∏–µ",
            "name": "toolName",
            "type": "string",
            "default": "code_interpreter"
          },
          {
            "label": "–û–ø–∏—Å–∞–Ω–∏–µ",
            "name": "toolDesc",
            "type": "string",
            "rows": 4,
            "default": "–í—ã–ø–æ–ª–Ω—è–µ—Ç Python-—Å–∫—Ä–∏–ø—Ç—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ä–µ–¥–µ. –í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã: pandas, numpy, matplotlib –∏ –¥—Ä. –í—ã–≤–æ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ print(), –≥—Ä–∞—Ñ–∏–∫–∏ —á–µ—Ä–µ–∑ plt.show()."
          }
        ],
        "inputs": {
          "toolName": "code_interpreter",
          "toolDesc": "–í—ã–ø–æ–ª–Ω—è–µ—Ç Python-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç—Ä–æ—è—Ç—Å—è —á–µ—Ä–µ–∑ plt.show()"
        }
      }
    },
    {
      "id": "retrieverTool_0",
      "position": {
        "x": 1062.58,
        "y": 149.88
      },
      "type": "customNode",
      "data": {
        "label": "Retriever Tool",
        "version": 2,
        "name": "retrieverTool",
        "type": "RetrieverTool",
        "category": "Tools",
        "description": "–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞",
        "inputParams": [
          {
            "label": "–ù–∞–∑–≤–∞–Ω–∏–µ",
            "name": "name",
            "type": "string",
            "placeholder": "search_state_of_union"
          },
          {
            "label": "–û–ø–∏—Å–∞–Ω–∏–µ",
            "name": "description",
            "type": "string",
            "rows": 3,
            "placeholder": "–ü–æ–∏—Å–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É"
          },
          {
            "label": "–í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏",
            "name": "returnSourceDocuments",
            "type": "boolean"
          }
        ],
        "inputAnchors": [
          {
            "label": "Retriever",
            "name": "retriever",
            "type": "BaseRetriever"
          }
        ],
        "inputs": {
          "name": "search_docstore_data",
          "description": "–ò—â–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏. –ü–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –∏–Ω—Ç—É–∏—Ü–∏–∏",
          "retriever": "{{documentStoreVS_0.data.instance}}",
          "returnSourceDocuments": ""
        }
      }
    },
    {
      "id": "customTool_0",
      "position": {
        "x": 707.53,
        "y": -239.44
      },
      "type": "customNode",
      "data": {
        "label": "Custom Tool",
        "version": 2,
        "name": "customTool",
        "type": "CustomTool",
        "description": "–í–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏",
        "inputParams": [
          {
            "label": "–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",
            "name": "selectedTool",
            "type": "asyncOptions",
            "loadMethod": "listTools"
          },
          {
            "label": "–í–µ—Ä–Ω—É—Ç—å –Ω–∞–ø—Ä—è–º—É—é",
            "name": "returnDirect",
            "type": "boolean"
          }
        ],
        "inputs": {
          "selectedTool": "092a3e3f-9761-4ada-b07b-e36fa242e9f5",
          "returnDirect": ""
        }
      }
    },
    {
      "id": "documentStoreVS_0",
      "position": {
        "x": 1058.31,
        "y": -232.13
      },
      "type": "customNode",
      "data": {
        "label": "Document Store (Vector)",
        "version": 1,
        "name": "documentStoreVS",
        "type": "DocumentStoreVS",
        "category": "Vector Stores",
        "description": "–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ–±—É—á–µ–Ω–∏—è",
        "inputParams": [
          {
            "label": "–í—ã–±–µ—Ä–∏—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ",
            "name": "selectedStore",
            "type": "asyncOptions",
            "loadMethod": "listStores"
          }
        ],
        "inputs": {
          "selectedStore": "91ae191f-c307-489e-90f4-a3f96cbc1ff0"
        },
        "outputAnchors": [
          {
            "label": "Retriever",
            "type": "BaseRetriever"
          },
          {
            "label": "Vector Store",
            "type": "VectorStore"
          }
        ]
      }
    }
  ],

  "edges": [
    {
      "source": "bufferMemory_0",
      "target": "toolAgent_0",
      "sourceHandle": "bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory",
      "targetHandle": "toolAgent_0-input-memory-BaseChatMemory"
    },
    {
      "source": "chatAnthropic_0",
      "target": "toolAgent_0",
      "sourceHandle": "chatAnthropic_0-output-chatAnthropic-ChatAnthropic|ChatAnthropicMessages|BaseChatModel|BaseLanguageModel|Runnable",
      "targetHandle": "toolAgent_0-input-model-BaseChatModel"
    },
    {
      "source": "codeInterpreterE2B_0",
      "target": "toolAgent_0",
      "sourceHandle": "codeInterpreterE2B_0-output-codeInterpreterE2B-CodeInterpreter|Tool|StructuredTool|Runnable",
      "targetHandle": "toolAgent_0-input-tools-Tool"
    },
    {
      "source": "retrieverTool_0",
      "target": "toolAgent_0",
      "sourceHandle": "retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable",
      "targetHandle": "toolAgent_0-input-tools-Tool"
    },
    {
      "source": "documentStoreVS_0",
      "target": "retrieverTool_0",
      "sourceHandle": "documentStoreVS_0-output-retriever-BaseRetriever",
      "targetHandle": "retrieverTool_0-input-retriever-BaseRetriever"
    },
    {
      "source": "customTool_0",
      "target": "toolAgent_0",
      "sourceHandle": "customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable",
      "targetHandle": "toolAgent_0-input-tools-Tool"
    }
  ],

  "inspiration": {
    "from_intuition": true,
    "trigger_words": ["–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è", "—É–∂–µ –±—ã–ª–æ", "–Ω–µ —Ç–∞–∫", "—á—Ç–æ-—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ–µ", "–ø–æ—Ö–æ–∂–µ–µ"],
    "intuition_prompt": "‚ùó –ò–Ω—Ç—É–∏—Ü–∏—è –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç: –≤—ã —É–∂–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏ —ç—Ç–æ —Ä–∞–Ω–µ–µ.\nüìå –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—Ç–∞—Ä—ã–π –æ—Ç–≤–µ—Ç: '{recent_response}'\nüß† –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ö–æ–¥, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏?"
  }
}